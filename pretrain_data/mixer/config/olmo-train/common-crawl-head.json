{
  "streams": [
    {
      "name": "cc_en_head",
      "documents": [
        "s3://ai2-llm/pretraining-data/sources/common-crawl/v1-c4-cleaned/documents/cc_en_head/cc_en_head-0005.json.gz"
      ],
      "attributes": [
        "decontamination",
        "dedupe_paragraphs",
        "gopher_rules",
        "hatespeech_nsfw_cc_v3",
        "pii_detection"
      ],
      "output": {
        "path": "s3://ai2-llm/pretraining-data/sources/olmo-mix/v1/documents/common-crawl/cc_en_head",
        "max_size_in_bytes": 4294967296,
        "discard_fields": [
          "attributes",
          "metadata",
          "added",
          "created"
        ]
      },
      "filter": {
        "include": [],
        "exclude": [
          "$@.attributes[?(@.bff_duplicate_paragraph_spans_decontamination && @.bff_duplicate_paragraph_spans_decontamination[0] && @.bff_duplicate_paragraph_spans_decontamination[0][2] >= 1.0)]",

          "$.attributes[?(@.pii_detection__pii_regex_with_counts_fast_v2__doc_count[0][2] > 5)]"
        ]
      },
      "span_replacement": [
        {
          "span": "$.attributes.bff_duplicate_paragraph_spans",
          "min_score": 0.5,
          "replacement": ""
        },
        {
          "span": "$.attributes.hatespeech_nsfw_cc_v3__jigsaw_hatespeech_sentence_v2____label__toxic",
          "min_score": 0.4,
          "replacement": ""
        },
        {
          "span": "$.attributes.hatespeech_nsfw_cc_v3__jigsaw_nsfw_sencence_v2____label__nsfw",
          "min_score": 0.4,
          "replacement": ""
        },
        {
          "span": "$.attributes.pii_detection__pii_regex_with_counts_fast_v2__EMAIL_ADDRESS",
          "min_score": 0.5,
          "replacement": " |||EMAIL_ADDRESS||| "
        },
        {
          "span": "$.attributes.pii_detection__pii_regex_with_counts_fast_v2__PHONE_NUMBER",
          "min_score": 0.5,
          "replacement": " |||PHONE_NUMBER||| "
        },
        {
          "span": "$.attributes.pii_detection__pii_regex_with_counts_fast_v2__IP_ADDRESS",
          "min_score": 0.5,
          "replacement": " |||IP_ADDRESS||| "
        }
      ]
    }
  ],
  "work_dir": {
    "input": "/tmp/olmo-mix-v1/input",
    "output": "/tmp/olmo-mix-v1/output"
  },
  "processes": 128
}
